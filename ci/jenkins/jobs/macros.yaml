- builder:
    name: builder-slack-notify-declare
    builders:
      - shell: |-
          #!/bin/bash
          set -ex

          declare -a nanny
          nanny=("lzhecheng" "zhengshengz")

          d=$(date '+%d')
          r=$((d % ${#nanny[@]}))
          chosen_nanny=${nanny[$r]}

          cat > chosen_nanny <<EOF
          chosen_nanny=${chosen_nanny}
          EOF

          cat chosen_nanny

- builder:
    name: deploy-vm-and-run-tests-for-antrea-cloud
    builders:
            - shell: |-
                    #!/bin/bash
                    set -ex
                    rm -rf testrepo
                    git clone https://github.com/liu4480/testrepo
                    chmod +x testrepo/ci/jenkins/antrea-cloud.sh
                    ./testrepo/ci/jenkins/antrea-cloud.sh --buildnumber "${{BUILD_NUMBER}}" --vchost "${{VC_HOST}}" \
                            --vcuser "${{VC_USER}}" --datacenter "${{DATACENTERNAME}}" --datastore "${{DATA_STORE}}" \
                            --vcCluster "${{VC_CLUSTER}}" --resourcePool "${{RESOURCEPOOLPATH}}" --vcNetwork "${{VMC_NETWORK_1}}" \
                            --virtualMachine "${{VIRTUAL_MACHINE}}" --goVcPassword "${{GOVC_PASSWORD}}" --testUserName "${{TEST_USERNAME}}"
